{"version":3,"sources":["wizmetria_web/views/layout.cljs"],"mappings":";AAMA,2CAAA,3CAAMA;AAAN,AACE,qBAAA,AAAAC,jBAAMC,iCAAU,sDAAA,mFAAA,zIAACC;IACXC,eAAa,8EAAA,mFAAA,jKAACC,+CAAOC;AAD3B,AAAA,0FAAA,wQAAA,mFAAA,0KAAA,2CAAA,6DAIe,WAAKC;AAAL,AACE,uBAAA,mFAAA,1GAACC;;AAED,OAACC,WACA;AAAA,AACC,IAAMC,OAAK,AAAQC;IACbC,2BAAmB,AAACC,cAAIX;AAD9B,AAEE,oBAAMQ;AAAN,AAEE,sBAAA,tBAAS,AAAaA;;AAEtB,GAAME;AAAN,AACE,0BAAA,nBAAM,AAAaF;;AADrB;;;AAJF;;GAMJN;WAjBjB,mFAAA,sQAAA,mFAAA,uPAAA,2CAAA,iIAAA,mFAAA,yQAAA,2CAAA,pkCAkBgB,AAACU,qBAAE,kCAAA,kEAAA,lFAAIZ,6kBAEV,kCAAA,gBAAA,hCAAIA,sfAEH,kCAAA,gBAAA,hCAAIA;;AAGpB,oCAAA,pCAAMa;AAAN,AAAA,0FAAA,iMAAA,mFAAA,uIAAA,mFAAA,0JAAA,mFAAA,2NAAA,2CAAA,qDAAA,uCAAA,wDAAA,SAAA,mDAAA,8BAAA,mFAAA,+JAAA,mFAAA,mEAAA,2CAAA,wDAAA,6BAAA,2DAAA,YAAA,oDAAA,uBAAA,mFAAA,qDAAA,2CAAA,+CAAA,niDAGa,qBAAA,rBAACD,wzBAKG,qBAAA,rBAACA;;AAUlB,oCAAA,pCAAME;AAAN,AACE,qBAAA,AAAAf,jBAAMgB,iCAAgB,sDAAA,mFAAA,zIAACd;2BAAvB,AAAAF,vBACMiB,uCAAgB,sDAAA,mFAAA,zIAACf;IACjBgB,aAAK,4DAAA,5DAACC,6CAAEH;AAFd,AAAA,0FAAA,2KAAA,mFAAA,wFAAA,mFAAA,mLAAA,2CAAA,koBAAA,mFAAA,sJAAA,2CAAA,8mBAAA,mFAAA,kJAAA,2CAAA,7tDAMa,uGAAA,2CAAA,mEAAA,rNAACI,wPAEA,wCAAA,AAAA,2CAAA,kEAAA,6EAAA,hNAAMH,oOAEf,qBAAA,rBAACJ,waAEO,uGAAA,2CAAA,mEAAA,rNAACO,wPAEA,wCAAA,AAAA,2CAAA,kEAAA,0CAAA,7KAAMH,iMAEf,qBAAA,rBAACJ,obAEM,cAAA,AAAA,sBAAA,lCAAMK,gDACd,cAAA,gIAAA,5IAAIA,+FACDG,gIACAtB,kDACH,cAAA,oIAAA,hJAAImB,+FACDnB,oIACAsB","names":["wizmetria-web.views.layout/toggle-switch","cljs.core/deref","enabled?","re_frame.core.subscribe","toggle-delay","cljs.core.get_in","wizmetria-web.config/ui-config","_","re-frame.core/dispatch","js/setTimeout","body","js/document","currently-enabled?","cljs.core/not","wizmetria-web.i18n/t","wizmetria-web.views.layout/footer","wizmetria-web.views.layout/header","text-direction","shiny-enabled?","rtl?","cljs.core._EQ_","cljs.core.merge","wizmetria-web.i18n/language-selector"],"sourcesContent":["(ns wizmetria-web.views.layout\r\n  (:require [re-frame.core :as rf]\r\n            [wizmetria-web.i18n :as i18n :refer [t]]\r\n            [wizmetria-web.config :as config]))\r\n\r\n;; -- Toggle effects button component --\r\n(defn toggle-switch []\r\n  (let [enabled? @(rf/subscribe [:shiny-effects-enabled])\r\n        toggle-delay (get-in config/ui-config [:toggle-effects-delay-ms])]\r\n    [:div.shiny-toggle-button.bg-gray-900.rounded-lg.px-2.h-10.flex.items-center.shadow-md.border.border-purple-700\r\n     [:button.flex.items-center.focus:outline-none.text-sm.text-white\r\n      {:on-click (fn [_]\r\n                   (rf/dispatch [:toggle-shiny-effects])\r\n                   ;; Brief timeout to allow state to update before modifying DOM\r\n                   (js/setTimeout \r\n                    (fn [] \r\n                     (let [body (.-body js/document)\r\n                           currently-enabled? (not enabled?)] ;; Toggle happens after click\r\n                       (when body\r\n                         ;; First remove existing class to ensure clean state\r\n                         (.remove (.-classList body) \"shiny-enabled\")\r\n                         ;; Then add if it should be enabled\r\n                         (when currently-enabled?\r\n                           (.add (.-classList body) \"shiny-enabled\"))))) \r\n                   toggle-delay))}\r\n      [:span.mr-2 (t (if enabled? :effects-on :effects-off))]\r\n      [:div.relative.inline-flex.items-center.h-5.w-9.rounded-full.transition-colors.duration-200.ease-in-out\r\n       {:class (if enabled? \"bg-purple-600\" \"bg-gray-600\")}\r\n       [:span.absolute.inline-block.h-3.w-3.rounded-full.bg-white.transform.transition-transform.duration-300.shadow-md\r\n        {:class (if enabled? \"translate-x-5\" \"translate-x-1\")}]]]]))\r\n\r\n;; -- Footer component --\r\n(defn footer []\r\n  [:div.w-full.text-center.py-4.text-gray-400.text-xs.border-t.border-gray-800\r\n   [:div.flex.flex-col.items-center.justify-center\r\n    [:p.mb-2 (t :footer-text)]\r\n    [:a.github-link.text-indigo-400.hover:text-indigo-300.transition-colors.flex.items-center\r\n     {:href \"https://github.com/Tok/wizmetria-web\"\r\n      :target \"_blank\"\r\n      :rel \"noopener noreferrer\"}\r\n     [:span.mr-1 (t :github-link)]\r\n     ;; GitHub SVG icon\r\n     [:svg.w-4.h-4 \r\n      {:xmlns \"http://www.w3.org/2000/svg\" \r\n       :viewBox \"0 0 24 24\" \r\n       :fill \"currentColor\"}\r\n      [:path \r\n       {:d \"M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z\"}]]]]])\r\n\r\n;; -- App header component --\r\n(defn header []\r\n  (let [text-direction @(rf/subscribe [:text-direction])\r\n        shiny-enabled? @(rf/subscribe [:shiny-effects-enabled])\r\n        rtl? (= text-direction \"rtl\")]\r\n    [:div.flex.items-center.justify-between.w-full.max-w-5xl.px-2.py-2\r\n     [:div.flex.items-center\r\n      [:h1.text-5xl.text-purple-300.font-bold.tracking-wider.mr-4.app-title\r\n       {:style (merge\r\n                {:font-family \"'Courier New', monospace\"}\r\n                (when shiny-enabled? \r\n                  {:text-shadow \"0 0 12px rgba(139, 92, 246, 0.5), 0 0 24px rgba(139, 92, 246, 0.3)\"}))} \r\n       (t :app-title)]\r\n      [:h2.text-xl.text-indigo-300.font-light.hidden.sm:block\r\n       {:style (merge\r\n                {:font-family \"'Courier New', monospace\"}\r\n                (when shiny-enabled? \r\n                  {:text-shadow \"0 0 5px rgba(99, 102, 241, 0.3)\"}))}\r\n       (t :app-subtitle)]]\r\n     [:div.controls-container.flex.items-center.space-x-2\r\n      {:class (when rtl? \"rtl space-x-reverse\")}\r\n      (if rtl?\r\n        [i18n/language-selector]\r\n        [toggle-switch])\r\n      (if rtl?\r\n        [toggle-switch]\r\n        [i18n/language-selector])]])) "]}