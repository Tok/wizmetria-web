{"version":3,"sources":["wizmetria_web/views/stats.cljs"],"mappings":"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","names":["wizmetria-web.views.stats/symmetry-stats-card","label","count","wizmetria-web.views.stats/symmetric-word-list","title","words","iter__5480__auto__","s__12635","cljs.core/LazySeq","temp__5804__auto__","cljs.core/seq","cljs.core/chunked-seq?","c__5478__auto__","size__5479__auto__","cljs.core/count","b__12637","cljs.core/chunk-buffer","i__12636","cljs.core/-nth","cljs.core/chunk-append","cljs.core/chunk-cons","cljs.core/chunk","iter__12634","cljs.core/chunk-rest","cljs.core/first","cljs.core/cons","cljs.core/rest","word","re-frame.core/dispatch","wizmetria-web.views.stats/symmetry-axis-section","axis-id","wizmetria-web.sym/id->axis-name","wizmetria-web.i18n/t","s__12639","b__12641","i__12640","iter__12638","cljs.core.take","wizmetria-web.views.stats/wordlist-stats","cljs.core/deref","stats","re_frame.core.subscribe","cljs.core.get_in","s__12644","b__12646","i__12645","vec__12647","cljs.core.nth","iter__12643","vec__12650","cljs.core/chunk-first"],"sourcesContent":["(ns wizmetria-web.views.stats\r\n  (:require [re-frame.core :as rf]\r\n            [wizmetria-web.i18n :refer [t]]\r\n            [wizmetria-web.sym :as sym]))\r\n\r\n;; -- Stats card component --\r\n(defn symmetry-stats-card [label count]\r\n  [:div.bg-gray-700.rounded-lg.p-3.flex.flex-col.items-center.justify-center\r\n   [:span.text-2xl.font-bold.text-indigo-300 count]\r\n   [:span.text-xs.text-gray-300 label]])\r\n\r\n;; -- Symmetric word list component --\r\n(defn symmetric-word-list [title words]\r\n  [:div.mb-4\r\n   [:h3.text-lg.mb-2.text-indigo-300.font-medium title]\r\n   [:div.flex.flex-wrap.gap-2\r\n    (for [word words]\r\n      ^{:key word}\r\n      [:span.bg-gray-700.px-3.py-1.rounded-md.cursor-pointer.hover:bg-gray-600.transition-colors.text-indigo-200.text-sm\r\n       {:on-click #(rf/dispatch [:update-word word])}\r\n       word])]])\r\n\r\n;; -- Symmetry axis section component --\r\n(defn symmetry-axis-section [axis-id words]\r\n  [:div.bg-gray-700.rounded-lg.p-3\r\n   [:h4.text-indigo-200.font-medium.mb-1.text-sm\r\n    (str (sym/id->axis-name axis-id) \" \" (t :axis) \" (\" (count words) \" \" (t :for) \")\")]\r\n   [:div.flex.flex-wrap.gap-1\r\n    (for [word (take 5 words)]\r\n      ^{:key word}\r\n      [:span.bg-gray-600.px-2.py-0.5.rounded-md.text-xs.cursor-pointer.hover:bg-gray-500.transition-colors.text-indigo-100\r\n       {:on-click #(rf/dispatch [:update-word word])}\r\n       word])]])\r\n\r\n;; -- Wordlist stats component --\r\n(defn wordlist-stats []\r\n  (let [stats @(rf/subscribe [:wordlist-stats])]\r\n    (when stats\r\n      [:div.bg-gray-800.p-4.rounded-lg.shadow-lg.mb-4.border.border-purple-700.text-gray-200\r\n       [:h2.text-xl.mb-3.text-purple-300.font-semibold (t :stats-title)]\r\n       \r\n       [:div.grid.grid-cols-1.md:grid-cols-3.gap-3.mb-4\r\n        [symmetry-stats-card (t :stats-unique-words) (:total-words stats)]\r\n        [symmetry-stats-card (t :stats-mirror-words) (get-in stats [:mirror :count])]\r\n        [symmetry-stats-card (t :stats-rotation-words) (get-in stats [:rotation :count])]]\r\n       \r\n       ;; Top 10 longest mirror symmetry words\r\n       [symmetric-word-list \r\n        (str \"Top 10 \" (t :mirror-symmetry) \" \" (t :for)) \r\n        (get-in stats [:mirror :top-n])]\r\n       \r\n       ;; Top 10 longest rotational symmetry words\r\n       [symmetric-word-list \r\n        (str \"Top 10 \" (t :rotation-symmetry) \" \" (t :for)) \r\n        (get-in stats [:rotation :top-n])]\r\n       \r\n       ;; Mirror symmetry by axis\r\n       [:div\r\n        [:h3.text-lg.mb-2.text-indigo-300.font-medium (str (t :for) \" \" (t :by) \" \" (t :symmetry-axis))]\r\n        [:div.grid.grid-cols-1.md:grid-cols-2.gap-3\r\n         (for [[axis-id words] (get-in stats [:mirror :by-axis])\r\n               :when (seq words)]\r\n           ^{:key axis-id}\r\n           [symmetry-axis-section axis-id words])]]]))) "]}